<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Herramientas Acústicas 1.0</title><script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script><style>body{margin:0;padding:0;font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#f0f2f5 0%,#d9e2ec 100%);height:100vh;display:flex;color:#333;overflow:hidden}#app-container{display:flex;width:100%;height:100%;padding:10px;box-sizing:border-box;gap:15px}#sidebar{width:320px;background-color:rgba(255,255,255,0.6);backdrop-filter:blur(10px);border:1px solid #ccc;border-radius:8px;padding:10px 15px;display:flex;flex-direction:column;gap:15px;flex-shrink:0}.t-lbl{background-color:#0078D7;color:#fff;font-weight:700;font-size:14pt;text-align:center;padding:8px;border-radius:4px;margin-bottom:5px}.gb{background-color:rgba(255,255,255,0.4);border:1px solid #ccc;border-radius:5px;padding:15px 10px 10px;position:relative;margin-top:10px}.gt{position:absolute;top:-10px;left:10px;background-color:rgba(255,255,255,0.9);padding:0 5px;font-weight:700;font-size:13px;color:#222}.cr{margin-bottom:15px}.ch{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;font-size:13px}input[type=text]{width:50px;text-align:right;border:1px solid #aaa;border-radius:4px;padding:2px 5px;background-color:rgba(255,255,255,0.7);font-family:'Segoe UI',sans-serif}input[type=range]{-webkit-appearance:none;width:100%;height:6px;background:#fff;border:1px solid #bbb;border-radius:3px;outline:0;cursor:pointer}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:#fff;border:1px solid #0078D7;border-radius:50%;margin-top:-6px;box-shadow:0 1px 3px rgba(0,0,0,0.3)}input[type=range]::-webkit-slider-runnable-track{background:linear-gradient(to right,#0078D7 0%,#0078D7 var(--v,0%),#fff var(--v,0%),#fff 100%);border-radius:3px;height:4px}#graph-area{flex-grow:1;display:flex;flex-direction:column;gap:15px;min-width:0}.gc{border:1px solid #aaa;border-radius:4px;background-color:#fff;padding:5px;position:relative;height:100%}#sc{flex:2}#sp{flex:1}</style></head><body><div id="app-container"><div id="sidebar"><div class="t-lbl">CONFIGURACIÓN</div><div class="gb"><span class="gt">Parámetros del Estimulo</span><div class="cr"><div class="ch"><label>Frecuencia (Hz)</label><input type="text" id="tf" value="500"></div><input type="range" id="sf" min="20" max="20000" value="500"></div></div><div class="gb"><span class="gt">Parámetros de la Herramienta (Panel)</span><div class="cr"><div class="ch"><label>Distancia a la Pared (cm)</label><input type="text" id="tg" value="5"></div><input type="range" id="sg" min="0" max="100" value="5"></div><div class="cr"><div class="ch"><label>Espesor de la Herramienta (cm)</label><input type="text" id="tt" value="5"></div><input type="range" id="st" min="1" max="50" value="5"></div></div><div style="flex-grow:1"></div><div style="font-size:10px;text-align:center;color:#000"></div></div><div id="graph-area"><div class="gb" id="sc" style="display:flex;flex-direction:column;padding:0;background:0 0;border:0"><span class="gt" style="top:-8px;z-index:10">Representación Espacial</span><div id="pw" class="gc"></div></div><div class="gb" id="sp" style="display:flex;flex-direction:column;padding:0;background:0 0;border:0"><span class="gt" style="top:-8px;z-index:10">Análisis Espectral</span><div id="ps" class="gc"></div></div></div></div><script>!function(){const M=Math,P=Math.PI,S=M.sin,A=M.abs,L=M.log10,m=M.min,x=M.max,O=343,d=document,J=JSON,y=Plotly,st={f:500,g:.05,t:.05},ls=(e,t,n)=>{let a=[],r=(t-e)/(n-1);for(let o=0;o<n;o++)a.push(e+r*o);return a},lg=(e,t,n)=>{let a=[],r=(t-e)/(n-1);for(let o=0;o<n;o++)a.push(M.pow(10,e+r*o));return a},lW={margin:{t:30,r:20,b:40,l:50},xaxis:{range:[-1.5,.1],title:"Distancia (m)",zeroline:!1,gridcolor:"rgba(0,0,0,0.1)"},yaxis:{range:[-1.2,1.2],title:"Intensidad Relativa",gridcolor:"rgba(0,0,0,0.1)"},showlegend:!1,shapes:[{type:"line",x0:0,y0:-1.5,x1:0,y1:1.5,line:{color:"#000",width:3}},{type:"line",x0:0,y0:-1.5,x1:0,y1:1.5,line:{color:"red",width:1,dash:"dash"},name:"l4"}]},lS={title:{text:"Alfa en función de la Frec. (20Hz - 20kHz)",font:{size:14}},margin:{t:40,r:20,b:40,l:50},xaxis:{type:"log",range:[L(20),L(2e4)],title:"Frecuencia (Hz)",gridcolor:"rgba(0,0,0,0.2)"},yaxis:{range:[0,1.1],title:"Alfa",gridcolor:"rgba(0,0,0,0.2)"},showlegend:!1},U=()=>{let e=lg(L(20),L(2e4),500),t=e.map(e=>m(x(M.pow(S(2*P/(O/e)*A(-st.g-st.t/2)),2),0),1)),n=2*P/(O/st.f),a=M.pow(S(n*A(-st.g-st.t/2)),2),r=ls(-1.5,0,500),o=r.map(e=>S(n*-e)),i=o.map(e=>A(e)),c=i.map(e=>-e),l=-st.g-st.t,g=-st.g,u=[l,g,g,l,l],s=[2,2,-2,-2,2],p={x:r,y:i,type:"scatter",mode:"lines",line:{width:0},showlegend:!1},d={x:r,y:c,type:"scatter",mode:"lines",fill:"tonexty",fillcolor:"rgba(255,0,0,0.15)",line:{width:0},showlegend:!1},f={x:r,y:o,type:"scatter",mode:"lines",line:{color:"#000080",width:2}},h={x:u,y:s,type:"scatter",mode:"lines",fill:"toself",fillcolor:"rgba(0,100,0,0.4)",line:{color:"rgb(0,100,0)",width:2}},b=-(O/st.f)/4,v=J.parse(J.stringify(lW));v.shapes[1].x0=b,v.shapes[1].x1=b,y.react("pw",[h,p,d,f],v);let w={x:e,y:t,type:"scatter",mode:"lines",line:{color:"#000",width:2}},k={x:[st.f],y:[a],type:"scatter",mode:"markers",marker:{color:"red",size:10,line:{color:"#000",width:1}}};y.react("ps",[w,k],lS)},K=(e,t,n,a=1)=>{let r=d.getElementById(e),o=d.getElementById(t),i=()=>{let e=parseInt(r.value);o.value=e;let t=(e-r.min)/(r.max-r.min)*100;r.style.setProperty("--v",t+"%"),st[n]=e*a,U()};r.addEventListener("input",i),o.addEventListener("change",(()=>{let e=parseInt(o.value);isNaN(e)&&(e=parseInt(r.min)),e=x(r.min,m(e,r.max)),o.value=e,r.value=e;let t=(e-r.min)/(r.max-r.min)*100;r.style.setProperty("--v",t+"%"),st[n]=e*a,U()})),r.dispatchEvent(new Event("input"))};y.newPlot("pw",[],lW,{responsive:!0,displayModeBar:!1}),y.newPlot("ps",[],lS,{responsive:!0,displayModeBar:!1}),K("sf","tf","f",1),K("sg","tg","g",.01),K("st","tt","t",.01),U(),window.addEventListener("resize",(()=>{y.Plots.resize("pw"),y.Plots.resize("ps")}))}();</script></body></html>